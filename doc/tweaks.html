<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Known tweaks needed to run programs under dosemu</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"></HEAD
><BODY
CLASS="ARTICLE"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="ARTICLE"
><DIV
CLASS="TITLEPAGE"
><H1
CLASS="TITLE"
><A
NAME="AEN2"
>Known tweaks needed to run programs under dosemu</A
></H1
><DIV
><DIV
CLASS="ABSTRACT"
><P
></P
><A
NAME="AEN4"
></A
><P
>This file lists programs that needs specific tweaks in order to
run them under dosemu2.</P
><P
></P
></DIV
></DIV
><HR></DIV
><DIV
CLASS="TOC"
><DL
><DT
><B
>Table of Contents</B
></DT
><DT
>1. <A
HREF="#AEN6"
>Millenium</A
></DT
><DD
><DL
><DT
>1.1. <A
HREF="#AEN8"
>Millenium game fails to detect Sound Blaster, unless the SB IRQ is 5</A
></DT
><DT
>1.2. <A
HREF="#AEN11"
>Millenium game crashes when entering space combat</A
></DT
></DL
></DD
><DT
>2. <A
HREF="#AEN15"
>Need For Speed Special Edition</A
></DT
><DD
><DL
><DT
>2.1. <A
HREF="#AEN17"
>Wrong colors in video clips.</A
></DT
><DT
>2.2. <A
HREF="#AEN22"
>Hangs or glitches in video clips.</A
></DT
><DT
>2.3. <A
HREF="#AEN26"
>Installer crashes or unstable.</A
></DT
></DL
></DD
><DT
>3. <A
HREF="#AEN31"
>Gobliiins</A
></DT
><DD
><DL
><DT
>3.1. <A
HREF="#AEN33"
>Goblins halts at startup with "Divide Error" message</A
></DT
></DL
></DD
><DT
>4. <A
HREF="#AEN37"
>Prehistorik 2</A
></DT
><DD
><DL
><DT
>4.1. <A
HREF="#AEN39"
>Game freezes or crashes shortly after start.</A
></DT
><DT
>4.2. <A
HREF="#AEN43"
>Sound is crackling.</A
></DT
></DL
></DD
><DT
>5. <A
HREF="#AEN47"
>Carmageddon</A
></DT
><DD
><DL
><DT
>5.1. <A
HREF="#AEN49"
>Timer is too fast during race</A
></DT
></DL
></DD
><DT
>6. <A
HREF="#AEN59"
>Simon 2</A
></DT
><DD
><DL
><DT
>6.1. <A
HREF="#AEN61"
>Game freezes at start.</A
></DT
></DL
></DD
><DT
>7. <A
HREF="#AEN65"
>Prince of Persia 2</A
></DT
><DD
><DL
><DT
>7.1. <A
HREF="#AEN67"
>Game slows down unbearably after some playing.</A
></DT
></DL
></DD
><DT
>8. <A
HREF="#AEN71"
>Cosmo game by Apogee Software</A
></DT
><DD
><DL
><DT
>8.1. <A
HREF="#AEN73"
>Cosmo's Cosmic Adventure doesn't start</A
></DT
></DL
></DD
><DT
>9. <A
HREF="#AEN77"
>Pinball Fantasies</A
></DT
><DD
><DL
><DT
>9.1. <A
HREF="#AEN79"
>Long start-up delay (like half a minute)</A
></DT
><DT
>9.2. <A
HREF="#AEN82"
>Black screen and hang after choosing the table.</A
></DT
><DT
>9.3. <A
HREF="#AEN93"
>Game doesn't see the Fx keys that should start the game.</A
></DT
></DL
></DD
><DT
>10. <A
HREF="#AEN96"
>WordPerfect 6.2</A
></DT
><DD
><DL
><DT
>10.1. <A
HREF="#AEN98"
>Hang trying to play the MIDI file embedded in document.</A
></DT
></DL
></DD
><DT
>11. <A
HREF="#AEN103"
>LEXICON 1.2 (mod 8.98)</A
></DT
><DD
><DL
><DT
>11.1. <A
HREF="#AEN105"
>dosemu crashes after a few minutes of work.</A
></DT
></DL
></DD
><DT
>12. <A
HREF="#AEN109"
>Test Drive 2</A
></DT
><DD
><DL
><DT
>12.1. <A
HREF="#AEN111"
>Game doesn't start, just returns to command prompt.</A
></DT
></DL
></DD
><DT
>13. <A
HREF="#AEN114"
>Tetris Classic, Super Tetris</A
></DT
><DD
><DL
><DT
>13.1. <A
HREF="#AEN116"
>Game is too slow.</A
></DT
></DL
></DD
><DT
>14. <A
HREF="#AEN120"
>Street Fighter 2</A
></DT
><DD
><DL
><DT
>14.1. <A
HREF="#AEN122"
>Game crashes on intro screen.</A
></DT
></DL
></DD
><DT
>15. <A
HREF="#AEN126"
>Game Wizard (GW)</A
></DT
><DD
><DL
><DT
>15.1. <A
HREF="#AEN128"
>Hangs on start.</A
></DT
></DL
></DD
></DL
></DIV
><DIV
CLASS="SECT1"
><H2
CLASS="SECT1"
><A
NAME="AEN6"
>1. Millenium</A
></H2
><DIV
CLASS="SECT2"
><H3
CLASS="SECT2"
><A
NAME="AEN8"
>1.1. Millenium game fails to detect Sound Blaster, unless the SB IRQ is 5</A
></H3
><P
>Solution: set $_sb_irq=(5). Fortunately this is a default setting, so
in most cases you won't care.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN11"
>1.2. Millenium game crashes when entering space combat</A
></H3
><P
>Solution: to the file 2200gx.exe apply the following patch:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>    000030B2: AA 47</PRE
></TD
></TR
></TABLE
></P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN15"
>2. Need For Speed Special Edition</A
></H2
><DIV
CLASS="SECT2"
><H3
CLASS="SECT2"
><A
NAME="AEN17"
>2.1. Wrong colors in video clips.</A
></H3
><P
>Solution: to file nfs.exe apply the following patch:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>    000607E6: 00 08</PRE
></TD
></TR
></TABLE
>
<A
HREF="http://www.os2museum.com/wp/need-for-speed-se-video-glitch/"
TARGET="_top"
>see here for details</A
></P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN22"
>2.2. Hangs or glitches in video clips.</A
></H3
><P
>Solution: to file nfs.exe apply the following patch:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>    000B8E5A: 78 EB
    000B8E72: 78 EB</PRE
></TD
></TR
></TABLE
></P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN26"
>2.3. Installer crashes or unstable.</A
></H3
><P
>Solution: to file infsd.exe apply the following patch:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>    0002873E: 7C EB</PRE
></TD
></TR
></TABLE
>
<A
HREF="https://github.com/stsp/dosemu2/issues/26#issuecomment-98486498"
TARGET="_top"
>see here for details</A
></P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN31"
>3. Gobliiins</A
></H2
><DIV
CLASS="SECT2"
><H3
CLASS="SECT2"
><A
NAME="AEN33"
>3.1. Goblins halts at startup with "Divide Error" message</A
></H3
><P
>Solution: apply the following patch to gobega.exe:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>    00004A19: F7 90
    00004A1A: F3 90</PRE
></TD
></TR
></TABLE
></P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN37"
>4. Prehistorik 2</A
></H2
><DIV
CLASS="SECT2"
><H3
CLASS="SECT2"
><A
NAME="AEN39"
>4.1. Game freezes or crashes shortly after start.</A
></H3
><P
>Solution: set
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>    $_umb_f0 = (off)</PRE
></TD
></TR
></TABLE
>
in your dosemu.conf or .dosemurc.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN43"
>4.2. Sound is crackling.</A
></H3
><P
>Solution: set
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>    $_dos_up = (off)</PRE
></TD
></TR
></TABLE
>
in your dosemu.conf or .dosemurc.
The only "explanation" we can provide, is a conspiracy theory that
prehistoric is trying to slander third-party DOSes that put LoL/SDA
to UMB.</P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN47"
>5. Carmageddon</A
></H2
><DIV
CLASS="SECT2"
><H3
CLASS="SECT2"
><A
NAME="AEN49"
>5.1. Timer is too fast during race</A
></H3
><P
><A
HREF="http://carmageddon.wikia.com/wiki/Glitch:Sped_up_timer"
TARGET="_top"
>see here for details</A
></P
><P
>Solution: for hi-res mode, apply the following patch to carma.exe:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>    00083549: 89 83
    0008354A: C5 E8
    0008354B: 29 04
    0008354C: F5 90
    0008354D: 89 90
    0008354E: 2D A3</PRE
></TD
></TR
></TABLE
></P
><P
>For low-res mode, apply the following patch to carma.exe:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>    00083549: 89 83
    0008354A: C5 E8
    0008354B: 29 02
    0008354C: F5 90
    0008354D: 89 90
    0008354E: 2D A3</PRE
></TD
></TR
></TABLE
></P
><P
>Unfortunately the timer is still a bit unstable, and runs as slower
as faster you drive your car.
To completely disable the timer, apply the following patch to carma.exe:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>    00083549: 89 83
    0008354A: C5 E8
    0008354B: 29 00
    0008354C: F5 90
    0008354D: 89 90
    0008354E: 2D A3</PRE
></TD
></TR
></TABLE
></P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN59"
>6. Simon 2</A
></H2
><DIV
CLASS="SECT2"
><H3
CLASS="SECT2"
><A
NAME="AEN61"
>6.1. Game freezes at start.</A
></H3
><P
>Solution: apply the following patch to runflat.exe:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>    000130FF: 75 90
    00013100: F7 90
    00013110: 75 90
    00013111: F6 90
    00013112: D1 90
    00013113: E9 90</PRE
></TD
></TR
></TABLE
></P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN65"
>7. Prince of Persia 2</A
></H2
><DIV
CLASS="SECT2"
><H3
CLASS="SECT2"
><A
NAME="AEN67"
>7.1. Game slows down unbearably after some playing.</A
></H3
><P
>Solution: update to v1.1 of the game or apply the following
patch to prince.exe:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>    00016549: CF CB</PRE
></TD
></TR
></TABLE
></P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN71"
>8. Cosmo game by Apogee Software</A
></H2
><DIV
CLASS="SECT2"
><H3
CLASS="SECT2"
><A
NAME="AEN73"
>8.1. Cosmo's Cosmic Adventure doesn't start</A
></H3
><P
>Solution: Unpack the cosmo1.exe which is packed with LZEXE.
Then apply the following patch:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>    00011F8F: 75 90
    00011F90: F9 90</PRE
></TD
></TR
></TABLE
></P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN77"
>9. Pinball Fantasies</A
></H2
><DIV
CLASS="SECT2"
><H3
CLASS="SECT2"
><A
NAME="AEN79"
>9.1. Long start-up delay (like half a minute)</A
></H3
><P
>No solution yet.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN82"
>9.2. Black screen and hang after choosing the table.</A
></H3
><P
>Solution: A few driver files needs to be patched.
Or just patch the one that you selected in a sound setup.</P
><P
>Apply the following patch to sb16.sdr:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>    00002007: F7 90
    00002008: F3 90</PRE
></TD
></TR
></TABLE
></P
><P
>Apply the following patch to sbpro.sdr:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>    000020A4: F7 90
    000020A5: F3 90</PRE
></TD
></TR
></TABLE
></P
><P
>Apply the following patch to sb20.sdr:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>    0000206B: F7 90
    0000206C: F3 90</PRE
></TD
></TR
></TABLE
></P
><P
>Apply the following patch to sblaster.sdr:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>    00001F25: F7 90
    00001F26: F3 90</PRE
></TD
></TR
></TABLE
></P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN93"
>9.3. Game doesn't see the Fx keys that should start the game.</A
></H3
><P
>No solution yet, the game is unplayable.</P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN96"
>10. WordPerfect 6.2</A
></H2
><DIV
CLASS="SECT2"
><H3
CLASS="SECT2"
><A
NAME="AEN98"
>10.1. Hang trying to play the MIDI file embedded in document.</A
></H3
><P
>Apply the following patch to vmp.com:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>    00002C4B: 72 90
    00002C4C: 0D 90
    00002C5B: 01 00</PRE
></TD
></TR
></TABLE
>
<A
HREF="https://github.com/dosemu2/dosemu2/issues/1189#issuecomment-639217647"
TARGET="_top"
>see here for details</A
></P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN103"
>11. LEXICON 1.2 (mod 8.98)</A
></H2
><DIV
CLASS="SECT2"
><H3
CLASS="SECT2"
><A
NAME="AEN105"
>11.1. dosemu crashes after a few minutes of work.</A
></H3
><P
>Looking at lexicon code, the crash seems intentional.
Probably some kind of a copy protection.
Apply the following patch to lexicon.exe:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>    0000ED9C: 74 EB
    00011DAE: 74 EB</PRE
></TD
></TR
></TABLE
></P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN109"
>12. Test Drive 2</A
></H2
><DIV
CLASS="SECT2"
><H3
CLASS="SECT2"
><A
NAME="AEN111"
>12.1. Game doesn't start, just returns to command prompt.</A
></H3
><P
>Test Drive 2 only works from drives up to F:. In most dosemu2 setups,
these drive letters are occupied. Solution is to copy the game to C:.</P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN114"
>13. Tetris Classic, Super Tetris</A
></H2
><DIV
CLASS="SECT2"
><H3
CLASS="SECT2"
><A
NAME="AEN116"
>13.1. Game is too slow.</A
></H3
><P
>Solution: set
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>    $_timer_tweaks = (on)</PRE
></TD
></TR
></TABLE
></P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN120"
>14. Street Fighter 2</A
></H2
><DIV
CLASS="SECT2"
><H3
CLASS="SECT2"
><A
NAME="AEN122"
>14.1. Game crashes on intro screen.</A
></H3
><P
>Solution: set
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>    $_timer_tweaks = (on)</PRE
></TD
></TR
></TABLE
></P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN126"
>15. Game Wizard (GW)</A
></H2
><DIV
CLASS="SECT2"
><H3
CLASS="SECT2"
><A
NAME="AEN128"
>15.1. Hangs on start.</A
></H3
><P
>Solution: set
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>    $_dos_up = (off)</PRE
></TD
></TR
></TABLE
></P
></DIV
></DIV
></DIV
></BODY
></HTML
>